#!/usr/bin/env ruby
# encoding: utf-8

$:.unshift File.join(File.dirname(__FILE__), *%w[.. lib])

require 'thor'
require 'monitaur'

begin
  if ARGV.empty? || ARGV.length > 1
    raise ArgumentError, "You must pass your agent key as the only argument"
  end
  Monitaur.start(ARGV[0])
rescue ArgumentError => e
  puts e.message
  puts "Ex: monitaur <agent key>"
  exit 1
end